{"version":3,"sources":["webpack:///./src/app/Pages/News/news.module.ts","webpack:///./src/app/Pages/News/news.page.html","webpack:///./src/app/Pages/News/news.page.scss","webpack:///./src/app/Pages/News/news.page.ts","webpack:///./src/app/Pages/post-bubble/post-bubble.component.html","webpack:///./src/app/Pages/post-bubble/post-bubble.component.scss","webpack:///./src/app/Pages/post-bubble/post-bubble.component.ts"],"names":[],"mappings":"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","file":"Pages-News-news-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewsPage } from './news.page';\nimport { PostBubbleComponent } from '../post-bubble/post-bubble.component';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: NewsPage\n      }\n    ])\n  ],\n  declarations: [NewsPage, PostBubbleComponent]\n})\nexport class NewsPageModule {}\n","module.exports = \"\\r\\n<ion-content #mainContent>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row *ngFor='let m of messages'>\\r\\n      <ion-col>\\r\\n        <app-post-bubble [fullName]='fullName' [data]='m'></app-post-bubble>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n<div *ngIf='uAuth.auth.currentUser != null' class=\\\"footer\\\" type='manager' id = \\\"footerMassage\\\" >\\r\\n    <ion-toolbar>\\r\\n      <ion-input  (keyup)='onKeyUp($event)' #messageField placeholder=\\\"Message\\\"></ion-input> \\r\\n      <ion-button  [disabled]='isMessageInvalid()' slot='end' (click)='sendMessage()' >Send</ion-button> \\r\\n     </ion-toolbar>\\r\\n</div>\\r\\n\"","module.exports = \"h6 {\\n  padding: 0px;\\n  margin: 0px; }\\n\\nion-grid {\\n  flex-direction: column;\\n  justify-content: flex-end; }\\n\\n.footer {\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  text-align: left;\\n  border-top-width: thin;\\n  border-top-style: solid; }\\n\\nion-input {\\n  border: 2px solid;\\n  border-radius: 25px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvTmV3cy9DOlxcVXNlcnNcXHJvaXBrXFxEZXNrdG9wXFxQYXJrb3VyIGlzcmFlbFxcUGFya291cklzcmFlbFxcUGkvc3JjXFxhcHBcXFBhZ2VzXFxOZXdzXFxuZXdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQVk7RUFDWixXQUFXLEVBQUE7O0FBR2Y7RUFDSSxzQkFBc0I7RUFDdEIseUJBQXlCLEVBQUE7O0FBRzdCO0VBQ0ksZUFBZTtFQUNmLE9BQU87RUFDUCxTQUFTO0VBQ1QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsdUJBQXVCLEVBQUE7O0FBRzNCO0VBQ0ksaUJBQWlCO0VBQ2pCLG1CQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvTmV3cy9uZXdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImg2IHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG5pb24tZ3JpZCB7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxufVxyXG5cclxuLmZvb3RlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYm9yZGVyLXRvcC13aWR0aDogdGhpbjtcclxuICAgIGJvcmRlci10b3Atc3R5bGU6IHNvbGlkO1xyXG4gfVxyXG5cclxuaW9uLWlucHV0e1xyXG4gICAgYm9yZGVyOiAycHggc29saWQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit, ViewChild, NgZone } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\n\n\n@Component({\n  selector: 'app-news',\n  templateUrl: './news.page.html',\n  styleUrls: ['./news.page.scss'],\n})\nexport class NewsPage {\n\n  @ViewChild('messageField') messageField\n  @ViewChild('mainContent') mainContent\n  messages = []\n  fullName = ''\n  manager = false;\n\n  constructor(\n    private uAuth: AngularFireAuth,\n    private ngZone: NgZone,\n    private db: AngularFirestore) { }\n\n  ngOnInit(): void {\n\n    // this.adminMode()\n    this.uAuth.user.subscribe(() => {\n      this.afterUserInside()\n      // this.adminMode()\n    })\n    this.db.collection('messages').valueChanges().subscribe(\n      result => {\n        result.sort((m1, m2) => {\n          if (m1['timestamp'] < m2['timestamp']) return 1\n          else return -1\n        })\n        this.messages = [...result]\n        return\n        if (this.messages.length <= 0) {\n          this.messages = result\n          // this.scrollToBottom()\n        } else {\n          this.ngZone.run(() => { this.messages.push(result[result.length - 1]) })\n          window.location.reload()\n        }\n      })\n  }\n\n  afterUserInside() {\n    this.db.collection('users').doc(this.uAuth.auth.currentUser.uid)\n      .get().subscribe(result => {\n        this.fullName = result.data().userName\n      })\n\n  }\n\n  sendMessage() {\n    if (this.isMessageInvalid()) {\n      return\n    }\n    this.db.collection('messages').add({\n      from: this.fullName,\n      content: this.messageField.value,\n      timestamp: new Date().getTime()\n    })\n    this.messageField.value = ''\n    ///this.scrollToBottom()\n  }\n\n  isMessageInvalid(): boolean {\n    return this.messageField == null || this.messageField.value == null || this.messageField.value.length <= 0\n  }\n\n\n  scrollToBottom() {\n    setTimeout(() => { this.mainContent.scrollToBottom(700) }, 120)\n  }\n\n  onKeyUp(data) {\n    const ENTER_KET_CODE = 13\n    if (data.keyCode === ENTER_KET_CODE) {\n      this.sendMessage()\n    }\n  }\n\n\n}\n","module.exports = \"<ion-card>\\n  <ion-card-header>\\n    <ion-card-title>{{data.content}}</ion-card-title>\\n  </ion-card-header>\\n  <ion-card-content [ngStyle]='{\\\"color\\\": getContentColor(from)}'>\\n    From: {{data.from}}\\n  </ion-card-content>\\n</ion-card>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL1BhZ2VzL3Bvc3QtYnViYmxlL3Bvc3QtYnViYmxlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-post-bubble',\n  templateUrl: './post-bubble.component.html',\n  styleUrls: ['./post-bubble.component.scss'],\n})\nexport class PostBubbleComponent implements OnInit {\n\n  @Input() data\n  @Input() fullName\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n\n  getContentColor(m) {\n    if(this.fullName != null && m != null && this.fullName === m.from) {\n      return 'red'\n    }\n  }\n\n}\n"],"sourceRoot":""}